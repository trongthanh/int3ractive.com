---
layout: post
title: AS3 Wordle Tag Cloud
date: '2011-02-22T19:15:00.001+07:00'
author: Trọng Thanh Trần
tags:
- Labs
- Flash
modified_time: '2013-04-04T11:29:23.297+07:00'
thumbnail: http://lh6.ggpht.com/_47w2iQ8-NcE/TWOo44tDQoI/AAAAAAAADKs/lrMlP-mhZ38/s72-c/demo%5B20%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5363322361445724369.post-1507820809228923226
blogger_orig_url: http://blog.int3ractive.com/2011/02/as3-wordle-tag-cloud.html
---

<a href="https://raw.github.com/trongthanh/ttt-sources/master/demos/flash/wordle-tag-cloud/bin/WordleTagCloud.swf" rel="shadowbox[WordleTagCloudClosedSource1];width=1024;height=768" target="_blank" title="AS3 Wordle Tag Cloud"><img alt="Wordle Tag Cloud" border="0" height="423" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TWOo44tDQoI/AAAAAAAADKs/lrMlP-mhZ38/demo%5B20%5D.png?imgmax=800" style="border-bottom-width: 0px; border-left-width: 0px; border-right-width: 0px; border-top-width: 0px; display: block; float: none; margin-left: auto; margin-right: auto;" title="Wordle Tag Cloud" width="420" /></a> <br />
You should have seen the aesthetic tag cloud above somewhere on the web. It originates from the famous <a href="http://www.wordle.net/" target="_blank">Wordle words cloud</a> (closed source). For the past few days, I have ported an open source Java class to ActionScript and able to render the tag cloud in Flash as seen above. Please refer to <a href="http://plindenbaum.blogspot.com/2010/10/playing-with-worldle-algorithm-tag.html" target="_blank">this article</a> to have the Java author explain the basic of the algorithm. (Thank Pierre Lindenbaum for the nice implementation)<br />
<a name='more'></a>For my AS3 port, I’ll leave the source code explain itself (mentioned below); but I can commend that Flash is very suitable for such visual tasks as it has built-in classes for drawing and object positioning. Some notable works for the Flash adaptation are:<br />
<ul>
<li>Checking for closely-fit bounds of the text on TextField (simple getBounds() will leave you some unwanted padding around the TextField object).<img alt="Perfect bounds are drawn to see how they fit closely" border="0" height="127" src="http://lh4.ggpht.com/_47w2iQ8-NcE/TWRu-qzN3vI/AAAAAAAADKw/gT3mu11okj8/perfect_bounds%5B6%5D.png?imgmax=800" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: inline;" title="Perfect bounds are drawn to see how they fit closely" width="185" />       <br />I would like to thank Thu Hoang, my dear colleague, who helped fixing this perfect bounds implementation. </li>
<li>Deploy some <a href="http://troygilbert.com/2007/06/pixel-perfect-collision-detection-in-actionscript3/" target="_blank">pixel perfect collision detection approaches</a> and try them. However the result is extremely slow and somehow inaccurate. I leave this for later improvement. </li>
<li>As the process of collision testing and word placing cost a lot of CPU power, the Flash application usually hang for several seconds when rendering the tag cloud. To prevent this, I have split the process into multiple ENTER_FRAME events in order to eliminate the hang and resulted in a word-appearing animation. </li>
<li>The class doesn’t care about scaling to fit the viewport yet. I intend to take care of that later. </li>
</ul>
<a href="https://raw.github.com/trongthanh/ttt-sources/master/demos/flash/wordle-tag-cloud/bin/WordleTagCloud.swf" rel="shadowbox[WordleTagCloudClosedSource2];width=1024;height=768" target="_blank" title="AS3 Wordle Tag Cloud">Check out the demo here</a>.<br />
I would like to open source the whole project but that is not possible because I have spent some of my company time doing the porting (It also come from a request of a commercial project). But I’m pleased to share the basic porting of the Java class which you can <a href="http://code.google.com/p/thanhtran-sources/source/browse/#svn%2Ftrunk%2Fdemos%2FWordleTagCloud" target="_blank" title="Source on Google Code">view it here</a> (or <a href="http://thanhtran-sources.googlecode.com/svn/trunk/demos/WordleTagCloud" target="_blank">check out the SVN here</a>)<br />
The open source <a href="http://code.google.com/p/thanhtran-sources/source/browse/trunk/demos/WordleTagCloud/src/com/pyco/tagcloud/Wordle.as" target="_blank">Wordle</a> tag cloud is the basic porting of the Java class which still run on single loop (no animation and still hang). But to split the process into multiple frames is simple OR you can deploy a pseudo-threading library. There are plenty of rooms for you to improve. (See the <a href="https://raw.github.com/trongthanh/ttt-sources/master/demos/flash/wordle-tag-cloud/bin/WordleTagCloud_OpenSource.swf" target="_blank">open source demo here</a>.)<br />
There is a native AS3 implementation as you can <a href="http://www.leichtgewicht.at/436/road-to-tag-cloud-2/" target="_blank">find here</a>. I found the vertical/horizontal case of this implementation doesn’t look very good (and my request doesn’t care about free angle) so I decided to go with this Java class.<br />
On a side note, when testing the single loop demo, I realized that the Flash Player on Linux (~2000ms) runs approximately 4 times slower than the Windows’ counter part (~500ms). Holy cow!<br />
<br />
<b>Updated 2013-04-04:</b> I have uploaded this demo on Github sometimes ago. Please visit the&nbsp;<a href="https://github.com/trongthanh/ttt-sources/tree/master/demos/flash/wordle-tag-cloud" target="_blank">Github repo</a>. In this repo, I have also committed the part that was closed: multi-frame calculation (to avoid blocking script). However, this part remains closed source. You can read it for inspiration only. If you want to use the closed part (Main.as, WordleAS3.as), please seek permission from my ex-employer (noted as copyright holder in the source).<br />
<span style="font-size: xx-small;">[Vietnamese tag: Đám mây tag Wordle viết bằng ActionScript 3]</span>