---
layout: post
title: Demystify the “root” property of DisplayObject
date: '2010-05-18T14:06:00.001+07:00'
author: Trọng Thanh Trần
tags:
- Labs
- Flash
modified_time: '2011-05-06T12:49:32.886+07:00'
thumbnail: http://lh4.ggpht.com/_47w2iQ8-NcE/S_I8cwcGMqI/AAAAAAAACkY/VbYWsX-FO0E/s72-c/display_list_tree_thumb%5B6%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5363322361445724369.post-3472303978078735633
blogger_orig_url: http://blog.int3ractive.com/2010/05/demystify-root-property-of.html
---

<p>Every DisplayObject has a property named “root”. What does this property refer to? Do all display objects share the same root object?</p>  <p>According to <a title="Help on DisplayObject.root" href="http://help.adobe.com/en_US/AS3LCR/Flash_10.0/flash/display/DisplayObject.html#root" target="_blank">Adobe’s Help</a>, the <font face="Courier New">root</font> property is the top-most display object in the portion of the display list's tree structure represented by that SWF file. In other words, root is the document class of that SWF. (By saying document class, I mean the movie clip that is linked with document class in Flash CS or the target class which you compile with Flex SDK)</p>  <p>There are other cases mentioned in the document:</p>  <ul>   <li>Root of Stage is the Stage itself. </li>    <li>Root of a loaded image (jpg, png, gif) whose content is a Bitmap is the Bitmap. </li>    <li>If a DisplayObject is created by code and (for e.g. <font face="Courier New">new Sprite()</font>), its root is <font face="Courier New">null</font> until it is added to a container which has non-null root. (The container’s root will be passed to its child). The container is not necessary to be on stage. </li> </ul> <a name='more'></a>  <p>Besides, I have made some experiments to come up with some more conclusions:</p>  <ul>   <li>If we add a new display object directly to Stage (by pass document class), its root will be the Stage. </li>    <li>The root of document class is always itself even it is removed off stage (and then added again to stage) or even added to another display object which has a different root. </li> </ul>  <p>Below is my summary about <font face="Courier New">root</font>:</p>  <p><a href="http://lh5.ggpht.com/_47w2iQ8-NcE/S_I8XHweQMI/AAAAAAAACkU/kTf992AyoP4/s1600-h/display_list_tree%5B7%5D.png"><img title="display list tree" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="385" alt="display list tree" src="http://lh4.ggpht.com/_47w2iQ8-NcE/S_I8cwcGMqI/AAAAAAAACkY/VbYWsX-FO0E/display_list_tree_thumb%5B6%5D.png?imgmax=800" width="538" border="0" /></a> </p>  <table cellspacing="0" cellpadding="0" width="500" border="0"><tbody>     <tr>       <td valign="top" width="200"><font face="Courier New">stage.root</font></td>        <td valign="top" width="300"><font face="Courier New">= stage</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">documentClass.root</font></td>        <td valign="top" width="300"><font face="Courier New">= documentClass</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">documentChild.root</font></td>        <td valign="top" width="300"><font face="Courier New">= documentClass</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">stageChild.root</font></td>        <td valign="top" width="300"><font face="Courier New">= stage</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">stageGrandChild.root</font></td>        <td valign="top" width="300"><font face="Courier New">= stage</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">loadedDocumentClass.root</font> </td>        <td valign="top" width="300"><font face="Courier New">= loadedDocumentClass</font></td>     </tr>      <tr>       <td valign="top" width="200"><font face="Courier New">loadedChild.root</font> </td>        <td valign="top" width="300"><font face="Courier New">= loadedDocumentClass</font> </td>     </tr>   </tbody></table>  <p><font size="2">Download my experiment code </font><a title="Root Object Demo" href="http://www.fileden.com/files/2009/8/2/2530043/flash/TestRootObject.zip" target="_blank"><font size="2">here</font></a><font size="2">.</font></p>  <h4>Conclusion</h4>  <p>The <font face="Courier New">root</font> object is just an old revived property from ActionScript 2. But back then, since new movie clips must be instanciated from another existing movie clip, all <font face="Courier New">_root</font> properties will point to a single top-most display object, and hence <font face="Courier New">_root</font> reference is consistent.</p>  <p>In ActionScript 3, because of this inconsistence in object reference, I think <strong>we should AVOID using <font face="Courier New">root</font></strong> and should use other approaches to get your intended reference.</p>  <p><font size="1">[Vietnamese tags: Giải mã đối tượng root của DisplayObject, AS3]</font></p>  