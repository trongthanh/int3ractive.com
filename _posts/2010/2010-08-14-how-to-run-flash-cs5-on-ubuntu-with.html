---
layout: post
title: How to run Flash CS5 on Ubuntu (with Wine)
date: '2010-08-14T14:40:00.001+07:00'
author: Thanh Tran
tags:
- Tools
- Tutorial
- Ubuntu
modified_time: '2011-05-24T21:16:10.578+07:00'
thumbnail: https://lh5.ggpht.com/_47w2iQ8-NcE/TGZIRfBlBjI/AAAAAAAACpA/VCwtDuLZMXc/s72-c/Desk%201_004_thumb%5B6%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5363322361445724369.post-541297168234018695
blogger_orig_url: http://blog.int3ractive.com/2010/08/how-to-run-flash-cs5-on-ubuntu-with.html
---

<p>Updated on 2011-05-24</p> <p><a href="http://lh4.ggpht.com/_47w2iQ8-NcE/TGZIOWS0tyI/AAAAAAAACo8/Ro862AAEMVg/s1600-h/Desk%201_004%5B8%5D.png" target="_blank"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Flash CS5 on Ubuntu 10.04" border="0" alt="Flash CS5 on Ubuntu 10.04" src="http://lh5.ggpht.com/_47w2iQ8-NcE/TGZIRfBlBjI/AAAAAAAACpA/VCwtDuLZMXc/Desk%201_004_thumb%5B6%5D.png?imgmax=800" width="604" height="484"></a> </p> <p>After a couple of days testing and examining, finally, I have managed to run Adobe Flash CS5 on my Ubuntu machine. As I say "run", I mean that I did not succeed installing the application but I had to copy the installed files from Windows. However, it is worth noting that this is the first Adobe Flash version that runs with workable quality since Macromedia Flash 8. The last 2 versions (CS3 &amp; CS4) is known to be useless when trying to run with Wine.</p> <p>No more wandering, let's me show you the how to first and then comments later. </p> <a name='more'></a> <h3>1. Install Adobe Flash CS5 on Windows</h3> <p>I installed Adobe Flash CS5 on my Windows XP virtual machine (32-bit). You can get the trial version of Flash CS5 <a href="http://www.adobe.com/products/flash/" target="_blank">here</a>. I suggest you install everything in the package in the default installation path.</p> <h3>2. Export Adobe registry branch</h3> <p>- Go to Start &gt; Run… &gt; input regedit &gt; OK <br>- In Regitry Editor, navigate to HKEY_LOCAL_MACHINE/SOFTWARE <br>- Select Adobe&nbsp; branch &gt; File &gt; Export… &gt; save the file as adobe.reg &gt; store it some where so you can access from Ubuntu later.</p> <p>Now, let’s get back to Ubuntu. I’m using Ubuntu 10.04 Lucid.</p> <h3>3. Installing Wine 1.3</h3> <p>By the time of this post, the official repository of Ubuntu only update Wine to version 1.1.34. So you need to add the ppa repository from WineHQ to get the latest version. Open the terminal and enter these commands:</p> <p><font face="Courier New">~$ sudo add-apt-repository ppa:ubuntu-wine/ppa <br>~$ sudo apt-get update <br>~$ sudo apt-get install wine1.3</font></p> <p>By installing this version, you will also get <a href="http://wiki.winehq.org/winetricks" target="_blank">winetricks</a> installed. If you’re using other distro, go to <a href="http://www.winehq.org/download" target="_blank">this link</a> to get your version of Wine.</p> <h3>4. Install subordinate Windows native libraries</h3> <p>It is recommended that you reset your wineprefix by deleting ~/.wine folder if you have testing something else before with wine. Then, use winetricks to install these libaries:</p> <p><font face="Courier New">~$ winetricks vcrun2008 msxml3 atmlib gdiplus</font></p> <p>The atmlib is kept in a large cab file so it is normal that you will experience a long progress downloading the 120MB cab file.</p> <h3>5. Replicate the installation in Ubuntu</h3> <p>Copy from Windows to Ubuntu :</p> <ul> <li>“C:\Program Files\Adobe\" to "$HOME/.wine/drive_c/Program Files/Adobe"  <li>“C:\Program Files\Common Files\Adobe" to “$HOME/.wine/drive_c/Program Files/Common Files/Adobe"  <li>“C:\Documents and Settings\All Users\Application Data\Adobe\CS5” to “$HOME/.wine/drive_c/users/Public/Application Data/Adobe/CS5” <br><strong>(this is required for Java Runtime Environment)</strong> </li></ul> <p>Import the registry branch for Adobe:</p> <p><font face="Courier New">~$ wine regedit adobe.reg</font> <br>(assuming the file adobe.reg has been placed at your home folder)</p> <p>Then you’re done. Here you can run the application from command line:</p> <p><font face="Courier New">~$ cd "$HOME/.wine/drive_c/Program Files/Adobe/Adobe Flash CS5" <br>~/.wine/drive_c/Program Files/Adobe/Adobe Flash CS5$ wine Flash.exe </font></p> <p>During the initialization, you may come across this error message:</p> <p><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Program Error_008" border="0" alt="Program Error_008" src="http://lh5.ggpht.com/_47w2iQ8-NcE/TGZISZ2dZrI/AAAAAAAACpE/ycA5YAxW6T8/Program%20Error_008%5B4%5D.png?imgmax=800" width="416" height="318"> </p> <p>Just click Close and Flash CS5 will continue to start up.</p> <p>For convenience, you can create a launcher to run Flash CS5 from your desktop:</p> <h3>6. Create desktop launcher</h3> <p>Right click on desktop and select Create Launcher <br>Enter the command as in the image: <br><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Adobe Flash CS5 Properties_007" border="0" alt="Adobe Flash CS5 Properties_007" src="http://lh5.ggpht.com/_47w2iQ8-NcE/TGZITzQjA-I/AAAAAAAACpI/aNSCIpGWPc8/Adobe%20Flash%20CS5%20Properties_007%5B4%5D.png?imgmax=800" width="538" height="442"> <br>You can find the logo of Flash CS5 in: …Adobe Flash CS5/Common/First Run/StartPage/resources/images/appicon_xl.png</p> <h3>7. How to: resolve “Error initializing Java Runtime Environment”</h3> <p>When starting Flash CS5, you may experience this error message:</p> <p><strong><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Selection_002" border="0" alt="Selection_002" src="http://lh3.ggpht.com/_47w2iQ8-NcE/TGZIUpAuCCI/AAAAAAAACpM/wW4_NRKvFiY/Selection_002%5B4%5D.png?imgmax=800" width="504" height="163"></strong></p> <p>There are a few reasons that I can identify up to now:</p> <h4>- The bundled JRE of CS5 is missing:</h4> <p>Make sure you copy the <strong>jre</strong> folder from: <br>C:\Documents and Settings\All Users\Application Data\Adobe\CS5 <br>to: <br>$HOME/.wine/drive_c/users/Public/Application Data/Adobe/CS5</p> <h4>- Error reserving the memory for the Java Virtual Machine:</h4> <p>When you run Flash CS5 with command line, you may notice these error messages together with above message box: <br><font face="Courier New">Error occurred during initialization of VM <br>Could not reserve enough space for object heap</font></p> <p>This is related to the <strong>–Xmx###m</strong> parameter in the JVM initial config.</p> <p>To fix, open the jvm.ini file located at: <br>$HOME/.wine/drive_c/users/$USER/Local Settings/Application Data/Adobe/Flash CS5/en_US/Configuration/ActionScript 3.0/jvm.ini <br>(Assuming $USER is current user name)</p> <p>Try editing the default line <strong>–Xmx128m</strong> NOT to a higher value BUT to a LOWER value.</p> <p>When I set it to <strong>–Xmx64m</strong>, the problem is gone (my RAM is 2GB on a 32-bit Ubuntu)!</p> <h3>8. How to: Built applications cannot access online resources</h3> <p><em>(This solution is still in progress and can only resolve the issue partially)</em></p> <p>When you build your application, the application will not be able to access online resources. This is because of the security sandbox which prevent local file access internet location. To solve, you can add trusted location to the Flash Player’s global settings.</p> <p>There are 2 ways to do this:</p> <ol> <li>Using the <a title="Global Security Settings panel" href="http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html" target="_blank">Global Security Settings panel</a> to add your working folder. However, this requires you install IE6 and Flash Player to your wineprefix. (How to do this is long and out of this post’s scope)  <li>Create new .cfg file at this location: <br>$HOME/.wine/drive_c/users/$USER/Application Data/Macromedia/Flash Player/#Security/FlashPlayerTrust/ <br>If the folders are not there, create them manually. <br>Each .cfg is a plain text document containing the path to your trusted folder. For e.g.: C:\ </li></ol> <p>However, this just allow the application to access internet when testing in debug mode! There is still something wrong with the normal run.</p> <h3>Other comments:</h3> <p>Thanks to <a href="http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=20158" target="_blank">this how to</a> for <a href="http://www.adobe.com/products/photoshop/compare/" target="_blank">Photoshop CS5</a> in <a href="http://appdb.winehq.org" target="_blank">AppDB</a>, I have come up with this procedure. However, <strong>you can use this procedure to run Photoshop CS5 as well</strong>. (I have tried)</p> <p>Here’s my test report so far (deeper test update to come):</p> <p><strong>What works:</strong> most of the normal functionalities </p> <ul> <li>All the drawing tools including 3D transform  <li>All Panels: library, color, align, transform, AS editor…  <li>Time line, layers, tweens  <li>TLF text, Classic text  <li>Open, Save, Build, Test run </li></ul> <p><strong>What does not work:</strong></p> <ul> <li>If Java Runtime Environment fails to initialize, some components will not work <br>- New TLF TextField <br>- New AS editor (fall back to old one) <br>- ActionScript will be ignored in the output application <br>(See How to resolve “Error initializing Java Runtime Environment” above)  <li>In the workspace, the contents are sometime clipped or hidden. But when I try scrolling or zooming, the contents appear fully again. This looks like being caused by the rendering library. (UPDATE FIX: View &gt; Preview Mode &gt; select Fast)&nbsp; <li>The application can only start debug session once. If you attempt debug your application again, the application will notice that the debug socket is being used! </li></ul> <p><strong>What was not tested:</strong></p> <ul> <li>Build a AIR  <li>iPhone Packager  <li>Some other unpopular functions </li></ul> <p>I will post my report to AppDB when getting some more test results.</p>    <h3>Adobe Media Encoder CS5</h3> <p>I also tried Adobe Media Encoder CS5. It ran but I could only open videos in some kind of format (3GP, MP4). Others (MPG, AVI…) failed to open. It seems like this program requires some default encoders available in Windows (which are not in Wine).</p> <p><a href="http://lh4.ggpht.com/_47w2iQ8-NcE/TGZIarT399I/AAAAAAAACpQ/PsIbrJbHvYM/s1600-h/Desk%201_008%5B7%5D.png" target="_blank"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Adobe Media Encoder CS5 on Ubuntu" border="0" alt="Adobe Media Encoder CS5 on Ubuntu" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TGZId4aop7I/AAAAAAAACpU/l-leTzqy4nY/Desk%201_008_thumb%5B5%5D.png?imgmax=800" width="604" height="484"></a> </p> <p>I will investigate further to improve the usability but this progress is very satisfactory to me. Now I can work with most projects without starting the virtual machine.</p> <p><strong>Update 2010-08-16</strong>: Added …/CS5/ to the folders need to copy, added 7. How to: resolve “Error initializing Java Runtime Environment” and 8. How to: Built applications cannot access online resources.</p> <p><strong>Update 2010-11-22:</strong> Flash CS5 stops at "building workspace" while initializing if Wine version is 1.3.7. I have no work around yet so if you want to run Flash CS5, please stay at Wine 1.3.6. (Photoshop CS5 may start normally)</p> <p><strong>Update 2010-12-02:</strong> The startup issue discussed above was fixed since Wine 1.3.8. Wine 1.3.8 was released at the end of Nov ‘10. You can now upgrade Wine to latest version to enjoy Flash CS5 on Linux. It is not likely that this issue will occur again in future version of Wine.</p> <p><strong>Update 2011-05-24:</strong><br>- I have just found out that if you <strong>switch Preview Mode to Fast</strong> (menu View &gt; Preview Mode &gt; Fast or Ctrl-Shift-Alt-F), the authoring stage will render much faster and virtually no more clipping issue.<br>- I have tried to run<strong> Flash CS 5.5</strong> and <strong>Photshop CS 5.1 trial</strong> on Ubuntu 11.04 using the same procedure. They both started as expected with the trial reminder window as well. However, during working session, an error popup keep appearing after a while. To tackle this, use the winetrick suggested by a commenter below (thanks Endur)<br><font face="Courier New">$ winetricks nocrashdialog</font></p> <p><font size="1">[Vietnamese tags: Hướng dẫn chạy Adobe Flash CS5 trên Ubuntu (với Wine) | Làm sao để chạy Flash CS5 trên Ubuntu]</font></p>
