---
layout: post
title: Using Flash Builder 4 on Ubuntu
date: '2010-10-02T20:27:00.001+07:00'
author: Thanh Tran
tags:
- Flex
- Tools
- Tutorial
- Ubuntu
modified_time: '2011-05-06T12:50:22.013+07:00'
thumbnail: https://lh3.ggpht.com/_47w2iQ8-NcE/TKcy-OSjfCI/AAAAAAAACqI/gwpPT2nLcpY/s72-c/fb_001_splash%5B8%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5363322361445724369.post-4612266899782528938
blogger_orig_url: http://blog.int3ractive.com/2010/10/using-flash-builder-4-on-ubuntu.html
---

<p align="center"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="Flash Builder 4 splash screen on my Ubuntu" border="0" alt="Flash Builder 4 splash screen on my Ubuntu" src="http://lh3.ggpht.com/_47w2iQ8-NcE/TKcy-OSjfCI/AAAAAAAACqI/gwpPT2nLcpY/fb_001_splash%5B8%5D.png?imgmax=800" width="554" height="329" /></p>  <p>So, Adobe has <a href="http://blogs.adobe.com/flex/2010/09/flex-builder-for-linux-project-ending.html" target="_blank">discontinued its Linux version</a> of Flex Builder. That’s sad news for us. Anyway, it doesn’t change much since Linux users already have alternatives long before, e.g. <a href="http://fdt.powerflasher.com/" target="_blank">FDT</a>, <a href="http://www.jetbrains.com/idea/" target="_blank">IDEA</a>. Besides, I have been able to run Flash Builder 4 on my Ubuntu (via Wine) for a while to take advantage of its mxml coding hinting and the unique design view. Let me share some of my experiences of using Flash Builer on Ubuntu so far.</p>

<a name='more'></a>  <h3>Installation</h3>  <p>Some users (<a href="http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=16795&amp;iTestingId=41068" target="_blank">here</a> and <a href="http://diariolinux.com/2009/06/22/how-to-install-flash-builder-on-linux/" target="_blank">here</a>) said that they could install Flash Builder 4 (FB4) with Wine. However, that is dated back to the beta version of FB4. I have tried many times with different winetricks to install the released version of FB4 but didn’t succeed. So I have no choice but install it on my Windows virtual machine and copy the installed files to Ubuntu’s wineprefix.</p>  <p>This process is similar to what was described in my previous blog post about <a href="http://int3ractive.blogspot.com/2010/08/how-to-run-flash-cs5-on-ubuntu-with.html" target="_blank">making Flash CS5 (and Photoshop CS5) running on Ubuntu</a>, except the winetricks part should be as following:</p>  <p><font face="Courier New">~$ winetricks msxml3 vcrun2008 usp10 comctl32 ie6</font></p>  <p>FYI, to my findings, <em>usp10</em> is for the source editor to work correctly (especially with unicode texts); <em>comctl32</em> will corrects some win controls and the code hinting popup;and <em>ie6</em> lets the tooltip display ASdoc help correctly.</p>  <p><a href="http://lh4.ggpht.com/_47w2iQ8-NcE/TKczAX7PqlI/AAAAAAAACqw/q4ocpEogfs8/s1600-h/fb_003_design_view%5B8%5D.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="design view" border="0" alt="design view" src="http://lh3.ggpht.com/_47w2iQ8-NcE/TKczBWPqLbI/AAAAAAAACq4/UVcbQhLuXuo/fb_003_design_view_thumb%5B4%5D.png?imgmax=800" width="404" height="325" /></a>     <br /><font size="2">(Proof of concept: Flash Builder running on default Ubuntu 10.4 desktop)</font>     <br /></p>  <h3>Start up</h3>  <p>Very often, you will face this error box when starting FB.    <br /><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="memory error" border="0" alt="memory error" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TKczCQYlksI/AAAAAAAACqU/MqeNPzc8cqM/fb_005_memory_error%5B7%5D.png?imgmax=800" width="254" height="230" />     <br />Starting it from command line you will find this message:     <br /><font face="Courier New">Error occurred during initialization of VM      <br />Could not reserve enough space for object heap</font></p>  <p>Don’t worry, try running the application again. You’ll finally have it started (usually after 2 - 3 attempts). </p>  <p>Passing above blocking error, another error message box will appear (all the time, just like with Flash CS5) but just close it and the initialization carry on. You will also notice a long delay before the Splash screen appear.</p>  <h3>Code hinting popup issue</h3>  <p>When you type, the code hinting popup may appear but doesn’t respond and you cannot input until the popup is closed. It is because Ubuntu’s windows manager is interfering. To resolve, for now, run the wine config (Application &gt; Wine &gt; Configure Wine OR enter this command in terminal: <font face="Courier New">winecfg</font>) &gt; open tab Graphics &gt; uncheck ‘Allow the window manager to control the windows’.</p>  <p><a href="http://lh4.ggpht.com/_47w2iQ8-NcE/TKczEl1qlTI/AAAAAAAACrA/eJZ31_ZDQhY/s1600-h/fb_002_source_view%5B5%5D.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="source view" border="0" alt="source view" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TKczHJ_yDUI/AAAAAAAACrM/a3TpgbpzzAE/fb_002_source_view_thumb%5B3%5D.png?imgmax=800" width="404" height="340" /></a> </p>  <p>Now the source editor will work as expected. However, there is some downside: the option Allow the window manager to decorate the windows will not be effective anymore. Besides you will not be able to minimize Flash Builder to GNOME panel. It only minimizes to a small icon floating on the desktop. And there appear to be some glitches with text input focus.</p>  <h3>Compile and debug</h3>  <p>No extra Java Runtime is needed to compile with FB4. The FB4 has a bundled JRE &amp; Flex SDK that will help you check compile-time errors and compile the project as you type.</p>  <p>For the test run, you can install Flash Player activeX debugger for IE6 in Wine to test the application. However, I have discovered a better way: running it directly on your Linux-native browser and still able to debug. How cool is that? Here’s how:</p>  <ol>   <li>Open gedit and enter the following text:      <br /><font face="Courier New">&#160;&#160; #!/bin/sh        <br />&#160;&#160; firefox -url &quot;`wine winepath -u &quot;$1&quot;`&quot;</font>       <br />What this shell script does is to: open the native Firefox browser with the URL which has been converted from Windows path to Linux path by using ‘wine winepath’ command.       <br />If you prefer Chromium browser, use this command instead:       <br /><font face="Courier New">&#160;&#160; chromium-browser &quot;`wine winepath -u &quot;$1&quot;`&quot;</font> </li>    <li>Name the file as “<font face="Courier New">lnx_browser</font>” and save it to an easy access folder. (Here I choose <font face="Courier New">/home/username/lnx_browser</font>). Remember to allow it execute as program. </li>    <li>In FB, navigate to Window &gt; Preferences &gt; General &gt; Web Browser. </li>    <li>Select “Use external web browser” </li>    <li>Click New, input new browser settings as following:      <br />Name: <strong>Linux Browser</strong>       <br />Location: <strong>/home/username/lnx_browser</strong> (Must be Linux path, do not use Z:\home…)       <br />Parameters: <strong>%URL% </strong></li>    <li>OK and then select Linux Browser as your chosen external browser. </li> </ol>  <p><a href="http://lh5.ggpht.com/_47w2iQ8-NcE/TKczJOoNTZI/AAAAAAAACrQ/sBSPyQSqUZQ/s1600-h/fb_006_linux_browser%5B4%5D.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="new linux browser" border="0" alt="new linux browser" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TKczKXxJIiI/AAAAAAAACrY/12RR-vguuRU/fb_006_linux_browser_thumb%5B2%5D.png?imgmax=800" width="404" height="289" /></a></p>  <p>After setting up external browser, go ahead and run/debug your application. FB4 will show a warning message about not finding Flash Player. Just ignore and click yes. Your application will run on Firefox Linux!</p>  <p><a href="http://lh5.ggpht.com/_47w2iQ8-NcE/TKczNTY8o1I/AAAAAAAACrs/T9dj5DN87MI/s1600-h/fb_004_debugging%5B4%5D.png" target="_blank"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="debugging" border="0" alt="debugging" src="http://lh6.ggpht.com/_47w2iQ8-NcE/TKczP07rLpI/AAAAAAAACr4/Q67HAwj6YUM/fb_004_debugging_thumb%5B2%5D.png?imgmax=800" width="404" height="340" /></a></p>  <p>For testing AIR applications, I just let FB4 use the Windows adl.exe debug loader (no native solution yet). It is fine to test functionality of simple windows. When it uses system tray or something complicated, you can write ANT task of shell script to run the app with native adl.</p>  <h3>Isolate FB4 wineprefix</h3>  <p>With said configurations and winetricks tweaking, it is very likely that they may affect other installed applications in Wine. I have come across one noticeable case: after setting up for FB4, Photoshop CS5 fails to start due to a conflict with the additional <em>comctl32</em> library. So, my advice is to isolate FB in a separate wineprefix (default is .wine).</p>  <p>To create a&#160; separate wineprefix use this command (assume you want it to be .winefb):</p>  <p><font face="Courier New">~$ env WINEPREFIX=&quot;/home/username/.winefb&quot; winecfg</font></p>  <p>That command is actually to open wine config window, since wineprefix doesn’t exist, Wine will create a new one in that folder.</p>  <p>After that, prepend <font face="Courier New">env WINEPREFIX=&quot;/home/username/.winefb&quot;</font> before every wine command, for example:</p>  <ul>   <li>Winetricks:      <br /><font face="Courier New">~$ env WINEPREFIX=&quot;/home/username/.winefb&quot; winetricks msxml3 vcrun2008 usp10 comctl32 ie6</font> </li>    <li>Start wine config:      <br /><font face="Courier New">~$ env WINEPREFIX=&quot;/home/username/.winefb&quot; winecfg</font> </li>    <li>Start up FB:      <br /><font face="Courier New">~$ env WINEPREFIX=&quot;/home/username/.winefb&quot; wine &quot;C:\Program Files\Adobe\Adobe Flash Builder 4\FlashBuilder.exe&quot;</font> </li> </ul>  <h3>Summary</h3>  <p>Here’s my summary in the style of Wine’s AppDB report for your reference:</p>  <h4>What works:</h4>  <p>Almost all functions</p>  <ul>   <li>Source view </li>    <li>Design view </li>    <li>Launching / debugging (with above tweaking) </li>    <li>Export release builds </li>    <li>New project/class wizard </li>    <li>All panels: Package Explorer, Outline, Components, Problems, Console, ASDoc, Network monitor, Properties, Styles… </li> </ul>  <h4>What does not work:</h4>  <ul>   <li>Create new folder in New / Import Project wizard </li> </ul>  <h4>What was not tested:</h4>  <ul>   <li>Profiler </li>    <li>Unit testing (but I guess it will work) </li>    <li>Data/Services </li> </ul>  <p><font size="1">[Vietnamese tag: sử dụng Flash Builder 4 trên Ubuntu, hướng dẫn cài đặt, khắc phục lỗi code hint, biên dịch và debug]</font></p>
